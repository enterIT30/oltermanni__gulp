new Swiper('.promotion__slider', {
  observer: true,
  observeParents: true,
  // SLIDES ==================================================================================
  slidesPerView: 4,
  slidesPerGroup: 1,
  speed: 800,
  loop: true,

/*   autoplay: {
    delay: 3000,
    disableOnInteraction: false,
  }, */
  // УПРАВЛЕНИЕ ==================================================================================
  simulateTouch: true,
  touchRatio: 1,
  toushAngle: 45,
  grabCursor: true,

  // клавиатурой
  keyboard: {
    enabled: true,
    onlyInViewport: true,
  },

  //TODO ОБЯЗАТЕЛЬНО УКАЗАТЬ ВЛОЖЕННОСТЬ ЧЕРЕЗ КОНТЕЙНЕР СЛАЙДЕРА => '.first-slider .swiper-button-next'

  // ARROWS КНОПКИ "ВЛЕВО/ВПРАВО" ==================================================================================

  navigation: {
    nextEl: '.pagination__swiper-button--next', //TODO указать класс кнопки следующий
    prevEl: '.pagination__swiper-button--prev', //TODO указать класс кнопки предыдущий
  },

  // DOTTS ==================================================================================

  pagination: {
    el: '.promotion__pagination', // TODO указать класс пагинации
    type: 'bullets',          //? по умолчанию
    clickable: true,          //? можно ли кликать на точки и преключать
    // dynamicBullets: true,  //? динамические булеты (изменется размер)
    // type: 'fraction',      //? 1/5
    //type: 'progressbar',    //? прогрессбар
  },

  // BREAKPOINTS ==================================================================================
    breakpoints: {
    320: {
      slidesPerView: 2,
      spaceBetween: 10,
    },
    360: {
      slidesPerView: 2.35,
      spaceBetween: 0,
    },
    480: {
      slidesPerView: 2.5,
    },
    580: {
      slidesPerView: 3,
    },
    768: {
      slidesPerView: 4,
    },
  },
});
//! BURGER-MENU ================

const iconMenu = document.querySelector(".icon-menu");
const menuBody = document.querySelector('.menu__body');
const header = document.querySelector('header.header');
const menuLink = document.querySelectorAll('.menu-link');


const menuList = document.querySelector('.menu__list');
const menuItem = document.querySelector('.menu__item');


iconMenu.addEventListener('click', (e) => {
  if (menuBody.classList.contains('open-menu')) {
    menuBody.style.height = '';
    iconMenu.classList.remove('open-menu');
    menuBody.classList.remove('open-menu');
    header.style.marginBottom = 0;
  } else {
    menuBody.style.height = menuBody.scrollHeight + 'px';
    iconMenu.classList.add('open-menu');
    menuBody.classList.add('open-menu');
    header.style.marginBottom = menuBody.scrollHeight + 'px';
  }
});

menuBody.addEventListener('click', (e) => {
  if (e.target.closest('.menu__link')) {
    menuBody.classList.remove('open-menu');
    header.style.marginBottom = 0;
  }
});

document.addEventListener('scroll', (e) => {
  if (menuBody.classList.contains('open-menu')) {
    menuBody.style.height = '';
    iconMenu.classList.remove('open-menu');
    menuBody.classList.remove('open-menu');
    header.style.marginBottom = 0;
  }
});



const popupLogin = document.querySelector('.popup.popup-login');
const btnClose = document.querySelector('.popup__close');

const loginBtn = document.querySelector('.login-buttons__login');
const registrationBtn = document.querySelector('.login-buttons__registration');


loginBtn.addEventListener('click', (e) => {
  popupOpen(popupLogin);
});

registrationBtn.addEventListener('click', (e) => {
  popupOpen(popupLogin);
});

btnClose.addEventListener('click', (e) => {
  popupClose(popupLogin);
});

popupLogin.addEventListener('click', (e) => {
  if (e.target === popupLogin) {
    popupClose(popupLogin);
  }
});

// POPUP

function popupOpen(p) {
  p.classList.add('popup-active');
}
function popupClose(p) {
  p.classList.remove('popup-active');
}







